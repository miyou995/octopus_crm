{% extends "chartbase.html" %}
{% comment %} {% block content %}
 <canvas id="myChart" height="20vh" width="20vw"></canvas>
{% endblock content %}

{% block scripts %}
<script>
$(document).ready(function(){
    var ctx = document.getElementById ('myChart').getContext('2d') ;
    var myChart = new Chart (ctx, {
        type : 'bar',
        data : {
            labels : ['Red','Blue','Yellow','Green','Purple','Orange'],
            datasets : [{
                label : '# of Votes',
                data : [ 12 , 19 , 3 , 5 , 2 , 31 ],
                backgroundColor : [
                    'rgba(255,9,132,0.2)',
                    ' rgba ( 54 , 162 , 235 , 0.2 ) ' ,
                    ' rgba ( 255 , 206 , 86 , 0.2 ) ' ,
                    ' rgba ( 75 , 192 , 192 , 0.2 ) ' ,
                    ' rgba ( 153 , 102 , 255 , 0.2 ) ' ,
                    'rgba ( 255 , 159 , 64 , 0.2 )',
                    ],
                borderColor :[
                    ' rgba ( 255 , 99 , 132 , 0.2 ) ' ,
                    ' rgba ( 54 , 162 , 235 , 0.2 ) ' ,
                    ' rgba ( 255 , 206 , 86 , 0.2 ) ' ,
                    ' rgba ( 75 , 192 , 192 , 0.2 ) ' ,
                    ' rgba ( 153 , 102 , 255 , 0.2 ) ' ,
                    'rgba ( 255 , 159 , 64 , 0.2 )'
                    ],
                    borderWidth: 1
            ]}   
        },
        options:{
            scales:{
                yAxes:[{
                    ticks:{
                        beginAtZero: true
                    }
                }]
            }
        }
    });
});
</script>    

{% endblock scripts %} {% endcomment %}


{% block content %}
  <div id="container" style="width: 75%;">
    <canvas id="pie-chart"></canvas>
  </div>
    hellooo
    {{data}}
    {{labels}}
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: {{ data|safe }},
          backgroundColor: [
            '#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'
          ],
          label: 'Population'
        }],
        labels: {{ labels|safe }}
      },
      options: {
        responsive: true
      }
    };
    console.log('THIS IS LOGGING')

    window.onload = function() {
      var ctx = document.getElementById('pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
    };
  </script>

{% endblock %}